/**
 * Head JS extended, the only script in your <HEAD>
 *
 * @version v0.10.0
 * @author Mato Ilic <info@matoilic.ch>
 * @author Tero Piirainen (tipiirai)
 * @copyright 2012 Mato Ilic, Tero Piirainen
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 */(function(a){function q(a){if(a._done)return;a(),a._done=1}function r(a){var b=a.split("/"),c=b[b.length-1],d=c.indexOf("?");return d!=-1?c.substring(0,d):c}function s(a){var b;if(typeof a=="object")for(var c in a)a[c]&&(b={name:c,url:a[c]});else b={name:r(a),url:a};var d=h[b.name];return d&&d.url===b.url?d:(h[b.name]=b,b)}function t(a,b){if(!a)return;typeof a=="object"&&(a=[].slice.call(a));for(var c=0;c<a.length;c++)b.call(a,a[c],c)}function u(a){return Object.prototype.toString.call(a)=="[object Function]"}function v(a){a=a||h;var b;for(var c in a){if(a.hasOwnProperty(c)&&a[c].state!=p)return!1;b=!0}return b}function w(a){a.state=m,t(a.onpreload,function(a){a.call()})}function x(a,b){a.state===undefined&&(a.state=n,a.onpreload=[],z({src:a.url,type:"cache"},function(){w(a)}))}function y(a,b){if(a.state==p)return b&&b();if(a.state==o)return l.ready(a.name,b);if(a.state==n)return a.onpreload.push(function(){y(a,b)});a.state=o,z(a.url,function(){a.state=p,b&&b(),t(g[a.name],function(a){q(a)}),v()&&d&&t(g.ALL,function(a){q(a)})})}function z(c,d){if(!j.test(c.src||c)){var e=a.createElement("script");e.type="text/"+(c.type||"javascript"),e.src=c.src||c,e.async=!1}else{var e=a.createElement("link"),f;e.rel="stylesheet",e.href=c.src||c,setTimeout(function(){e.onload()},300)}e.onreadystatechange=e.onload=function(){var a=e.readyState;!d.done&&(!a||/loaded|complete/.test(a))&&(d.done=!0,d())},(a.body||b).appendChild(e)}function A(){d||(d=!0,t(e,function(a){q(a)}))}var b=a.documentElement,c,d,e=[],f=[],g={},h={},i=a.createElement("script").async===!0||"MozAppearance"in a.documentElement.style||window.opera,j=/\.css(\?[0-9]+)?/i,k=window.head_conf&&head_conf.head||"head",l=window[k]=window[k]||function(){l.ready.apply(null,arguments)},m=1,n=2,o=3,p=4;i?l.load=function(){var a=arguments,b=a[a.length-1],c={};return u(b)||(b=null),t(a,function(d,e){d!=b&&(d=s(d),c[d.name]=d,y(d,b&&e==a.length-2?function(){v(c)&&q(b)}:null))}),l}:l.load=function(){var a=arguments,b=[].slice.call(a,1),d=b[0];return c?(d?(t(b,function(a){u(a)||x(s(a))}),y(s(a[0]),u(d)?d:function(){l.js.apply(null,b)})):y(s(a[0])),l):(f.push(function(){l.js.apply(null,a)}),l)},l.ready=function(b,c){if(b==a)return d?q(c):e.push(c),l;u(b)&&(c=b,b="ALL");if(typeof b!="string"||!u(c))return l;var f=h[b];if(f&&f.state==p||b=="ALL"&&v()&&d)return q(c),l;var i=g[b];return i?i.push(c):i=g[b]=[c],l},l.ready(a,function(){v()&&t(g.ALL,function(a){q(a)}),l.feature&&l.feature("domloaded",!0)});if(window.addEventListener)a.addEventListener("DOMContentLoaded",A,!1),window.addEventListener("load",A,!1);else if(window.attachEvent){a.attachEvent("onreadystatechange",function(){a.readyState==="complete"&&A()});var B=1;try{B=window.frameElement}catch(C){}!B&&b.doScroll&&function(){try{b.doScroll("left"),A()}catch(a){setTimeout(arguments.callee,1);return}}(),window.attachEvent("onload",A)}!a.readyState&&a.addEventListener&&(a.readyState="loading",a.addEventListener("DOMContentLoaded",handler=function(){a.removeEventListener("DOMContentLoaded",handler,!1),a.readyState="complete"},!1)),setTimeout(function(){c=!0,t(f,function(a){a()})},300)})(document);